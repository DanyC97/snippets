

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4.4. sed oneliners &mdash; Snippets 1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon-penn.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Snippets 1 documentation" href="index.html"/>
        <link rel="up" title="4. Scripting-language" href="top-scripting.html"/>
        <link rel="next" title="4.5. Sed tutorials" href="sed-tutorial/index.html"/>
        <link rel="prev" title="4.3. sed" href="cs-sed.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Snippets
          

          
          </a>

          
            
            
              <div class="version">
                1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="top-python.html">1. Python-type</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cs-python.html">1.1. Python</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cs-python.html#random-stack-overflow-questions">1.1.1. Random Stack-overflow questions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-python.html#find-first-occurence-in-a-list">1.1.1.1. Find first occurence in a list</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-python.html#when-plt-tight-layout-doesn-t-work-as-expected">1.1.1.2. When plt.tight_layout doesn&#8217;t work as expected</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-python.html#swap-2-items-in-a-list">1.1.1.3. Swap 2 items in a list</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-python.html#check-all-items-in-list-or-dict-is-equal">1.1.1.4. Check all items in list or dict is equal</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-python.html#disk-io">1.1.2. Disk IO</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-python.html#write-list-items-to-text">1.1.2.1. Write list items to text</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-python.html#seaborn-and-pandas-plots">1.1.3. Seaborn and Pandas plots</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-python.html#mpl-and-sns">1.1.3.1. mpl and sns?</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-python.html#color-palette">1.1.3.2. Color palette</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-python.html#python-commands-from-shell">1.1.4. Python commands from shell</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-python.html#matplotlib-styling">1.1.5. Matplotlib styling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-python.html#default-color-cycle">1.1.5.1. Default color cycle</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-python.html#colormap-helper">1.1.5.2. Colormap helper</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-python.html#installing-modules">1.1.6. installing modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-python.html#gochtas">1.1.7. gochtas</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-python.html#careful-with-array-slicing-may-change-array-values">1.1.7.1. careful with array slicing! may change array values</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-python.html#decorator">1.1.8. decorator</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-python.html#plotting-short-snippets">1.1.9. Plotting - short snippets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-python.html#cool-tricks">1.1.9.1. Cool tricks</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-python.html#plotting-snippets">1.1.9.2. Plotting Snippets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-python.html#exceptions">1.1.10. Exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-python.html#clever-tricks">1.1.11. Clever tricks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cs-pyspark.html">1.2. pyspark</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cs-pyspark.html#stack-overflows">1.2.1. Stack overflows</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-pyspark.html#numpy-array-to-spark-dataframe-trickier-than-i-thought">1.2.1.1. numpy array to spark dataframe...trickier than i thought...</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-pyspark.html#adding-new-columns-to-spark-dataframes">1.2.1.2. Adding new columns to Spark DataFrames</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-pyspark.html#handy-snippets">1.2.2. Handy snippets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-pyspark.html#todo-run-this-script">1.2.2.1. Todo: run this script</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-pyspark.html#bunch-of-example-scripts">1.2.2.2. Bunch of example scripts</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-pyspark.html#use-of-persist-rdd-persistence">1.2.2.3. Use of persist (RDD persistence)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-pyspark.html#sql-in-pyspark">1.2.3. SQL in pyspark</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-pyspark.html#spark-sql-dataframes-and-datasets-guide">1.2.4. Spark SQL, DataFrames and Datasets Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-pyspark.html#dataframes">1.2.4.1. DataFrames</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-pyspark.html#inter-operating-rdd-dataframes">1.2.4.2. Inter-operating RDD &amp; DataFrames</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-pyspark.html#data-sources">1.2.4.3. Data Sources</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-pyspark.html#saving-to-persistent-tables">1.2.4.4. Saving to Persistent Tables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-pyspark.html#programming-guide-condensed-summary">1.2.5. Programming-guide: condensed summary</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-pyspark.html#super-basics">1.2.5.1. Super basics</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-pyspark.html#shared-variables">1.2.5.2. Shared variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-pyspark.html#rdd-operations">1.2.5.3. RDD operations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-pyspark.html#random-handy-snippets">1.2.6. Random handy snippets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-pyspark.html#compute-average">1.2.6.1. compute average</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cs-py-jupyter-notebook.html">1.3. python-jupyter-notebook</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cs-py-jupyter-notebook.html#ipython-notebook-defaults">1.3.1. Ipython notebook defaults</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-py-jupyter-notebook.html#frequently-used-config">1.3.1.1. Frequently used config</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-py-jupyter-notebook.html#widgets">1.3.2. widgets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-py-jupyter-notebook.html#all-widget-types">1.3.2.1. All widget types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-py-jupyter-notebook.html#current-config">1.3.3. Current config</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bct.html">1.4. Brain Connectivity Toolbox</a><ul>
<li class="toctree-l3"><a class="reference internal" href="generated/bct.algorithms.html">1.4.1. bct.algorithms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/bct.algorithms.html#functions">1.4.1.1. Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/bct.algorithms.html#exceptions">1.4.1.2. Exceptions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="generated/bct.utils.html">1.4.2. bct.utils</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/bct.utils.html#functions">1.4.2.1. Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/bct.utils.html#exceptions">1.4.2.2. Exceptions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="generated/bct.nbs.html">1.4.3. bct.nbs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/bct.nbs.html#functions">1.4.3.1. Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/bct.nbs.html#exceptions">1.4.3.2. Exceptions</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="top-datascience.html">2. Data Science</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cs-R.html">2.1. R</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cs-R.html#snippets-in-rstudio">2.1.1. Snippets in RStudio</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-R.html#current-content-in-r-snippets">2.1.1.1. Current content in <code class="docutils literal"><span class="pre">r.snippets</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-R.html#todo-break-these-down-to-smaller-pieces">2.1.2. TODO: break these down to smaller pieces</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cs-sql.html">2.2. sql</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cs-sql.html#style-guidelines-conventions">2.2.1. Style guidelines, conventions</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-sql.html#basic-commands-keywords">2.2.2. Basic commands/keywords</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-sql.html#sql-zoo">2.2.3. sql-zoo</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-sql.html#select-basics">2.2.3.1. SELECT basics</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-sql.html#math-functions">2.2.3.2. math functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-sql.html#different-rdbms">2.2.4. different RDBMS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cs-scala.html">2.3. Scala</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cs-scala.html#random-overflow-threads">2.3.1. Random overflow threads</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-scala.html#linear-algebra-in-scala">2.3.2. Linear algebra in scala?</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-scala.html#scala-lab">2.3.3. scala-lab?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="top-bash.html">3. Bash-type</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cs-bash-commands.html">3.1. bash-commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#io-redirection">3.1.1. IO Redirection</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-bash-commands.html#output-stdout-and-stderr-to-terminal-and-logfile">3.1.1.1. Output stdout and stderr to terminal and logfile</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-bash-commands.html#syntax-reference">3.1.1.2. syntax reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#overflows">3.1.2. Overflows</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-bash-commands.html#display-function-names">3.1.2.1. Display function names</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-bash-commands.html#get-n-th-line-of-output-used-sed">3.1.2.2. get n-th line of output (used sed</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-bash-commands.html#quotes-with-grep">3.1.2.3. Quotes with grep</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#escaping-single-quotes-a-mess">3.1.3. Escaping single quotes (a mess...)</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#using-rename-command">3.1.4. Using rename command</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-bash-commands.html#rename-files-with-suffix-or-prefix">3.1.4.1. Rename files with suffix or prefix</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-bash-commands.html#regexp-syntax-with-rename">3.1.4.2. regexp syntax with rename</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#random-handy-snippets">3.1.5. Random handy snippets</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#replace-whitespace-with-newline-in-sed">3.1.6. replace whitespace with newline in sed</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-bash-commands.html#what-if-multiple-line-is-spanned">3.1.6.1. What if multiple line is spanned?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#check-running-processes">3.1.7. check running processes</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#nohup-vs-disown-vs">3.1.8. nohup vs disown vs &amp;</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#moving-and-copying">3.1.9. Moving and copying</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-bash-commands.html#scp-user">3.1.9.1. scp user</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-bash-commands.html#rsync">3.1.9.2. rsync</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#find">3.1.10. find</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-bash-commands.html#note-find-vs-locate">3.1.10.1. Note: <strong>find</strong> vs <strong>locate</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#command-vs-command-use-latter">3.1.11. ``command`` vs $(command) (use latter)</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#ls-tricks">3.1.12. ls tricks</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-bash-commands.html#ls-recursively-use-find">3.1.12.1. ls recursively (use <em>find</em>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-bash-commands.html#show-only-symbolic-links-alias-ls-sym">3.1.12.2. show only symbolic links (<strong>alias ls_sym</strong>)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#print-timestamp">3.1.13. print timestamp</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#open-image-xdg-open-image-png">3.1.14. open image ($xdg-open image.png)</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#options-with-less-ongoing">3.1.15. Options with <strong>less</strong> (ongoing)</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#history-w-o-line-numbers">3.1.16. history w/o line-numbers</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#awk-one-liners">3.1.17. awk (one-liners)</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#when-xargs-is-needed">3.1.18. When xargs is needed</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#get-computer-info">3.1.19. Get computer info</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#mogrify">3.1.20. mogrify</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#pipe-dreams-xargs-exec-in-find">3.1.21. Pipe dreams (xargs, -exec in find)</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#grep">3.1.22. Grep</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-bash-commands.html#grep-recursively">3.1.22.1. grep recursively</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-bash-commands.html#to-grep-a-string-pipe-output-of-echo">3.1.22.2. To grep a string, pipe output of echo</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-bash-commands.html#d-not-supported-in-linux-grep-as-default-seems-like">3.1.22.3. <code class="docutils literal"><span class="pre">\d</span></code> not supported in linux grep as default...seems like</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-bash-commands.html#just-use-double-quotes-for-regex-query">3.1.22.4. just use double-quotes for regex query</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#selecting-n-th-line-or-word-using-sed-and-awk">3.1.23. Selecting n-th line or word using sed and awk</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#use-xargs-to-execute-a-command-once-per-line-of-piped-input">3.1.24. Use xargs to execute a command once per line of piped input</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#run-same-command-multiple-times-for-loop">3.1.25. Run same command multiple times (for loop)</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#sed-demos">3.1.26. sed demos</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#git">3.1.27. git</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-bash-commands.html#change-author-name">3.1.27.1. change author name</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-commands.html#clipboard-with-xclip">3.1.28. clipboard with xclip</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cs-bash-scripts.html">3.2. bash-scripts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-scripts.html#overflow-topics">3.2.1. Overflow topics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-bash-scripts.html#check-file-existance">3.2.1.1. Check file existance</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-scripts.html#simple-loop-for-python">3.2.2. Simple loop for python</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-scripts.html#qsub">3.2.3. qsub</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-bash-scripts.html#my-old-qsub-approach">3.2.3.1. my old qsub approach</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-bash-scripts.html#qsub-run">3.2.3.2. qsub-run</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-scripts.html#place-exit-1-to-end-script">3.2.4. place exit 1 to end script</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-scripts.html#style-guide-and-conventions">3.2.5. Style-guide and conventions</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-scripts.html#arrays">3.2.6. arrays</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-bash-scripts.html#expanding-indices">3.2.6.1. Expanding indices</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-bash-scripts.html#practical-example">3.2.6.2. practical example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-scripts.html#control-rsync-recursive-depth">3.2.7. control rsync recursive depth</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-scripts.html#skip-scp-if-file-exist-tldr-use-rsync">3.2.8. skip scp if file exist (tldr - use rsync</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-scripts.html#rsync-symlinks">3.2.9. rsync symlinks</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-scripts.html#appending-concatenating-variables">3.2.10. Appending/concatenating variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-scripts.html#command-vs-command">3.2.11. <code class="docutils literal"><span class="pre">command</span></code> vs $(command)</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-scripts.html#variable-name-convention">3.2.12. variable name convention</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-scripts.html#how-to-expand-tilde">3.2.13. How to expand ~ (tilde)</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-scripts.html#create-directory-if-it-doesn-t-exist-06-14-2016-00-17">3.2.14. Create directory if it doesn&#8217;t exist 06-14-2016 (00:17)</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-scripts.html#vs-in-arrays">3.2.15. [&#64;] vs [*] in arrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-scripts.html#id1">3.2.16. 1&gt;&amp;2</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-scripts.html#if-statements-and-test-conditions">3.2.17. if statements and test conditions</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-scripts.html#argh-can-t-comment-over-line-breaks">3.2.18. argh...can&#8217;t comment over line breaks....</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-bash-scripts.html#get-directory-of-running-bash-script">3.2.19. get directory of running bash script</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cs-qsubber.html">3.3. qsubber</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cs-qsubber.html#qsub-helper">3.3.1. qsub helper</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-qsubber.html#qsub-helper-old-pre-april-2016">3.3.2. qsub helper (old, pre April 2016</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-qsubber.html#a-3-step-receipe-for-matlab">3.3.2.1. A 3 step receipe for matlab</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-qsubber.html#memrec-to-evaluate-appropriate-h-vmem-value">3.3.2.2. <code class="docutils literal"><span class="pre">memrec</span></code> (to evaluate appropriate <code class="docutils literal"><span class="pre">h_vmem</span></code> value</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-qsubber.html#qstat">3.3.2.3. <code class="docutils literal"><span class="pre">qstat</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-qsubber.html#usr-bin-time-to-see-multithreaded-or-not">3.3.2.4. <code class="docutils literal"><span class="pre">/usr/bin/time</span></code> to see multithreaded or not</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cs-git.html">3.4. git-snippet</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cs-git.html#stackoverflows">3.4.1. Stackoverflows</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="top-scripting.html">4. Scripting-language</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cs-perl-oneliners.html">4.1. perl one-liners</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cs-perl-oneliners.html#perl-help-refresher-on-command-line-options">4.1.1. $ perl &#8211;help (refresher on command line options)</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-perl-oneliners.html#file-spacing">4.1.2. FILE SPACING</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-perl-oneliners.html#line-numbering">4.1.3. LINE NUMBERING</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-perl-oneliners.html#calculations">4.1.4. CALCULATIONS</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-perl-oneliners.html#string-creation-and-array-creation">4.1.5. STRING CREATION AND ARRAY CREATION</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-perl-oneliners.html#text-conversion-and-substitution">4.1.6. TEXT CONVERSION AND SUBSTITUTION</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-perl-oneliners.html#selective-printing-and-deleting-of-certain-lines">4.1.7. SELECTIVE PRINTING AND DELETING OF CERTAIN LINES</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-perl-oneliners.html#handy-regular-expressions">4.1.8. HANDY REGULAR EXPRESSIONS</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-perl-oneliners.html#perl-tricks">4.1.9. PERL TRICKS</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-perl-oneliners.html#perl-one-liners-explained-e-book">4.1.10. PERL ONE-LINERS EXPLAINED E-BOOK</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cs-regexp.html">4.2. regular expressions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cs-regexp.html#overflows">4.2.1. Overflows</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-regexp.html#use-perl-engine-in-bash">4.2.1.1. Use Perl engine in bash</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-regexp.html#negate-specific-word">4.2.1.2. Negate specific word?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-regexp.html#sublimetext">4.2.2. Sublimetext</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-regexp.html#regular-expression-regexp-for-python">4.2.3. Regular expression (regexp) for python</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-regexp.html#basic-functions-modules">4.2.3.1. Basic functions/modules</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-regexp.html#splitting-strings">4.2.3.2. Splitting strings</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-regexp.html#search-and-replace-with-sub">4.2.3.3. Search and replace with sub</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-regexp.html#compilation-flags">4.2.3.4. Compilation flags</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-regexp.html#greedy-vs-nongreedy">4.2.3.5. Greedy vs nongreedy</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-regexp.html#improve-readibility-with-re-verbose-flag">4.2.3.6. Improve readibility with re.Verbose flag</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-regexp.html#named-groups">4.2.3.7. Named groups</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-regexp.html#lookahed-assertions">4.2.3.8. Lookahed assertions</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-regexp.html#bunch-of-examples">4.2.3.9. Bunch of examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cs-sed.html">4.3. sed</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cs-sed.html#output-from-sed-help">4.3.1. Output from sed &#8211;help</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-sed.html#ultra-basics">4.3.2. ultra-basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-sed.html#more-basics">4.3.3. More Basics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-sed.html#the-e-f-options">4.3.3.1. the -e, -f options</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-sed.html#deletion-commands">4.3.3.2. deletion commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-sed.html#substitution-flags">4.3.3.3. substitution flags</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-sed.html#fixname-sh">4.3.4. fixname.sh</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-sed.html#output-from-man-page">4.3.5. output from man page</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">4.4. sed oneliners</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#typical-use">4.4.1. Typical use</a></li>
<li class="toctree-l3"><a class="reference internal" href="#file-spacing">4.4.2. FILE SPACING:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#numbering">4.4.3. NUMBERING:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#text-conversion-and-substitution">4.4.4. TEXT CONVERSION AND SUBSTITUTION:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#selective-printing-of-certain-lines">4.4.5. SELECTIVE PRINTING OF CERTAIN LINES:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#selective-deletion-of-certain-lines">4.4.6. SELECTIVE DELETION OF CERTAIN LINES:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#special-applications">4.4.7. SPECIAL APPLICATIONS:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#misc">4.4.8. Misc</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="sed-tutorial/index.html">4.5. Sed tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="cs-awk-oneliners.html">4.6. awk-oneliners</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cs-awk-oneliners.html#file-spacing">4.6.1. File spacing</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-awk-oneliners.html#numbering-and-calculations">4.6.2. NUMBERING AND CALCULATIONS:</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-awk-oneliners.html#string-creation">4.6.3. STRING CREATION:</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-awk-oneliners.html#array-creation">4.6.4. ARRAY CREATION:</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-awk-oneliners.html#text-conversion-and-substitution">4.6.5. TEXT CONVERSION AND SUBSTITUTION:</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-awk-oneliners.html#selective-printing-of-certain-lines">4.6.6. SELECTIVE PRINTING OF CERTAIN LINES:</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs-awk-oneliners.html#selective-deletion-of-certain-lines">4.6.7. SELECTIVE DELETION OF CERTAIN LINES:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="awk-tutorial/index.html">4.7. awk-tutorial</a><ul>
<li class="toctree-l3"><a class="reference internal" href="awk-tutorial/awk-basic-structure.html">4.7.1. Basic structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="awk-tutorial/awk-essential-syntax.html">4.7.2. The Essential Syntax of AWK</a><ul>
<li class="toctree-l4"><a class="reference internal" href="awk-tutorial/awk-essential-syntax.html#unary-arithmetic-operators">4.7.2.1. Unary arithmetic operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="awk-tutorial/awk-essential-syntax.html#the-autoincrement-and-autodecrement-operators">4.7.2.2. The Autoincrement and Autodecrement Operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="awk-tutorial/awk-essential-syntax.html#assignment-operators">4.7.2.3. Assignment Operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="awk-tutorial/awk-essential-syntax.html#conditional-expressions">4.7.2.4. Conditional expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="awk-tutorial/awk-essential-syntax.html#regular-expressions">4.7.2.5. Regular Expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="awk-tutorial/awk-essential-syntax.html#and-or-not">4.7.2.6. And/Or/Not</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="awk-tutorial/awk-summary-commands.html">4.7.3. Summary of AWK Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="awk-tutorial/awk-builtin-vars.html">4.7.4. AWK Built-in Variables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="awk-tutorial/awk-builtin-vars.html#fs-the-input-field-separator-variable">4.7.4.1. FS - The Input Field Separator Variable</a></li>
<li class="toctree-l4"><a class="reference internal" href="awk-tutorial/awk-builtin-vars.html#ofs-the-output-field-separator-variable">4.7.4.2. OFS - The Output Field Separator Variable</a></li>
<li class="toctree-l4"><a class="reference internal" href="awk-tutorial/awk-builtin-vars.html#nf-the-number-of-fields-variable">4.7.4.3. NF - The Number of Fields Variable</a></li>
<li class="toctree-l4"><a class="reference internal" href="awk-tutorial/awk-builtin-vars.html#nr-the-number-of-records-variable">4.7.4.4. NR - The Number of Records Variable</a></li>
<li class="toctree-l4"><a class="reference internal" href="awk-tutorial/awk-builtin-vars.html#rs-the-record-separator-variable">4.7.4.5. RS - The Record Separator Variable</a></li>
<li class="toctree-l4"><a class="reference internal" href="awk-tutorial/awk-builtin-vars.html#ors-the-output-record-separator-variable">4.7.4.6. ORS - The Output Record Separator Variable</a></li>
<li class="toctree-l4"><a class="reference internal" href="awk-tutorial/awk-builtin-vars.html#filename-the-current-filename-variable">4.7.4.7. FILENAME - The Current Filename Variable</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="top-misc.html">5. Miscellaneous</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cs-rst.html">5.1. rst</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cs-rst.html#rst-references">5.1.1. RST references</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-rst.html#lookups">5.1.1.1. Lookups</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-rst.html#sphinx-based">5.1.1.2. Sphinx-based</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-rst.html#sphinx-references">5.1.2. Sphinx references</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-rst.html#id1">5.1.2.1. Lookups</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-rst.html#autodoc-related">5.1.2.2. Autodoc related</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cs-rst-old.html">5.2. rst cheatsheet (old)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cs-rst-old.html#directives-i-found-useful-or-runs-on-github">5.2.1. DIRECTIVES I FOUND USEFUL OR RUNS ON GITHUB</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-rst-old.html#image">5.2.1.1. .. image::</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-rst-old.html#code-use-with-number-lines-option">5.2.1.2. .. code:: (use with <code class="docutils literal"><span class="pre">:number-lines:</span></code> option)</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-rst-old.html#table">5.2.1.3. .. table::</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-rst-old.html#csv-table">5.2.1.4. .. csv-table::</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-rst-old.html#contents">5.2.1.5. .. contents::</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-rst-old.html#sectnum-works-but-warning-seem-to-screw-up-the-toc-link">5.2.1.6. .. sectnum:: ...works....but <strong>WARNING!</strong> - seem to screw up the TOC link</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-rst-old.html#header-and-footer">5.2.1.7. .. header:: (and .. footer::)</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-rst-old.html#sadly-math-doesn-t-render-on-github-works-on-bitbucket">5.2.1.8. Sadly <code class="docutils literal"><span class="pre">..</span> <span class="pre">math::</span></code> doesn&#8217;t render on github (works on bitbucket)</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-rst-old.html#replace">5.2.1.9. .. replace::</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-rst-old.html#unicode">5.2.1.10. .. unicode::</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-rst-old.html#date">5.2.1.11. ..date::</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-rst-old.html#list-of-gotcha-s-to-watch-out-for-at-least-the-ones-i-suffered-from">5.2.2. List of <strong>GOTCHA&#8217;s</strong> to watch out for (at least the ones I suffered from...)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-rst-old.html#gotcha-s-with-nested-list-items">5.2.2.1. Gotcha&#8217;s with nested list items</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-rst-old.html#id1">5.2.2.2. Sadly <code class="docutils literal"><span class="pre">..</span> <span class="pre">math::</span></code> doesn&#8217;t render on github (works on bitbucket)</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-rst-old.html#gotcha-s-with-contents">5.2.2.3. GOTCHA&#8217;s with <code class="docutils literal"><span class="pre">..</span> <span class="pre">contents::</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-rst-old.html#h1-h2-problems">5.2.2.4. <code class="docutils literal"><span class="pre">h1</span></code> <code class="docutils literal"><span class="pre">h2</span></code> ... problems</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-rst-old.html#including-styles-on-header-names-will-break-the-toc-link-on-github-unconfirmed">5.2.2.5. Including styles on HEADER-NAMES will break the TOC link on github (unconfirmed)</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-rst-old.html#directives-that-just-doesnt-work-on-github-or-sublime-text">5.2.2.6. Directives that just doesnt work on github or Sublime Text</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-rst-old.html#some-special-characters-that-may-be-a-head-ache-to-print">5.2.2.7. Some special characters that may be a head-ache to print</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cs-rst-old.html#roles-in-rst">5.2.3. <code class="docutils literal"><span class="pre">roles</span></code> in RST</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cs-rst-old.html#list-of-equivalent-roles-ultra-incomplete">5.2.3.1. List of equivalent <code class="docutils literal"><span class="pre">roles</span></code> (ultra-incomplete)</a></li>
<li class="toctree-l4"><a class="reference internal" href="cs-rst-old.html#some-interesting-looking-roles">5.2.3.2. Some interesting looking <code class="docutils literal"><span class="pre">roles</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configs/configs.html">6. configs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configs/gitconfig.html">6.1. My current gitconfig file</a></li>
<li class="toctree-l2"><a class="reference internal" href="configs/bashrc.html">6.2. My current .bashrc file in my office</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Snippets</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          













<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="top-scripting.html">4. Scripting-language</a> &raquo;</li>
        
      <li>4.4. sed oneliners</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/cs-sed-oneliners.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sed-oneliners">
<h1><a class="toc-backref" href="#id1">4.4. sed oneliners</a><a class="headerlink" href="#sed-oneliners" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>Created this to get nice syntax coloring.<ul>
<li>originally from <a class="reference external" href="http://sed.sourceforge.net/sed1line.txt">http://sed.sourceforge.net/sed1line.txt</a></li>
</ul>
</li>
<li>For sed commands, see table at: <a class="reference external" href="http://www.grymoire.com/Unix/Sed.html">http://www.grymoire.com/Unix/Sed.html</a></li>
</ul>
<p class="rubric">Other references</p>
<ul class="simple">
<li><a class="reference external" href="http://www.tutorialspoint.com/sed/index.htm">http://www.tutorialspoint.com/sed/index.htm</a></li>
<li><a class="reference external" href="http://ss64.com/bash/sed.html">http://ss64.com/bash/sed.html</a></li>
<li><a class="reference external" href="http://www.grymoire.com/Unix/Sed.html">http://www.grymoire.com/Unix/Sed.html</a></li>
<li><a class="reference external" href="https://www.gnu.org/software/sed/manual/sed.html">https://www.gnu.org/software/sed/manual/sed.html</a> (gnu manual)</li>
</ul>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first"><strong>Table of Contents</strong></p>
<ul class="simple">
<li><a class="reference internal" href="#sed-oneliners" id="id1">sed oneliners</a><ul>
<li><a class="reference internal" href="#typical-use" id="id2">Typical use</a></li>
<li><a class="reference internal" href="#file-spacing" id="id3">FILE SPACING:</a></li>
<li><a class="reference internal" href="#numbering" id="id4">NUMBERING:</a></li>
<li><a class="reference internal" href="#text-conversion-and-substitution" id="id5">TEXT CONVERSION AND SUBSTITUTION:</a></li>
<li><a class="reference internal" href="#selective-printing-of-certain-lines" id="id6">SELECTIVE PRINTING OF CERTAIN LINES:</a></li>
<li><a class="reference internal" href="#selective-deletion-of-certain-lines" id="id7">SELECTIVE DELETION OF CERTAIN LINES:</a></li>
<li><a class="reference internal" href="#special-applications" id="id8">SPECIAL APPLICATIONS:</a></li>
<li><a class="reference internal" href="#misc" id="id9">Misc</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="typical-use">
<h2><a class="toc-backref" href="#id2">4.4.1. Typical use</a><a class="headerlink" href="#typical-use" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># === typica use case === #</span>
cat filename <span class="p">|</span> sed <span class="s1">&#39;10q&#39;</span>        <span class="c1"># uses piped input</span>
sed <span class="s1">&#39;10q&#39;</span> filename              <span class="c1"># same effect, avoids a useless &quot;cat&quot;</span>
sed <span class="s1">&#39;10q&#39;</span> filename &gt; newfile    <span class="c1"># redirects output to disk</span>

<span class="c1"># === line wrapping === #</span>
sed -e <span class="s1">&#39;/AAA/b&#39;</span> -e <span class="s1">&#39;/BBB/b&#39;</span> -e <span class="s1">&#39;/CCC/b&#39;</span> -e d

<span class="c1">#it is heartening to know that GNU sed will let you reduce it to:</span>
sed <span class="s1">&#39;/AAA/b;/BBB/b;/CCC/b;d&#39;</span>      <span class="c1"># or even</span>
sed <span class="s1">&#39;/AAA\|BBB\|CCC/b;d&#39;</span>

<span class="c1"># === optimizing for speed === #</span>
sed <span class="s1">&#39;s/foo/bar/g&#39;</span> filename         <span class="c1"># standard replace command</span>
sed <span class="s1">&#39;/foo/ s/foo/bar/g&#39;</span> filename   <span class="c1"># executes more quickly</span>
sed <span class="s1">&#39;/foo/ s//bar/g&#39;</span> filename      <span class="c1"># shorthand sed syntax</span>

sed -n <span class="s1">&#39;45,50p&#39;</span> filename           <span class="c1"># print line nos. 45-50 of a file</span>
sed -n <span class="s1">&#39;51q;45,50p&#39;</span> filename       <span class="c1"># same, but executes much faster</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="file-spacing">
<h2><a class="toc-backref" href="#id3">4.4.2. FILE SPACING:</a><a class="headerlink" href="#file-spacing" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="c1"># double space a file</span>
 sed G

 <span class="c1"># double space a file which already has blank lines in it. Output file</span>
 <span class="c1"># should contain no more than one blank line between lines of text.</span>
 sed <span class="s1">&#39;/^$/d;G&#39;</span>

 <span class="c1"># triple space a file</span>
 sed <span class="s1">&#39;G;G&#39;</span>

 <span class="c1"># undo double-spacing (assumes even-numbered lines are always blank)</span>
 sed <span class="s1">&#39;n;d&#39;</span>

 <span class="c1"># insert a blank line above every line which matches &quot;regex&quot;</span>
 sed <span class="s1">&#39;/regex/{x;p;x;}&#39;</span>

 <span class="c1"># insert a blank line below every line which matches &quot;regex&quot;</span>
 sed <span class="s1">&#39;/regex/G&#39;</span>

 <span class="c1"># insert a blank line above and below every line which matches &quot;regex&quot;</span>
 sed <span class="s1">&#39;/regex/{x;p;x;G;}&#39;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="numbering">
<h2><a class="toc-backref" href="#id4">4.4.3. NUMBERING:</a><a class="headerlink" href="#numbering" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="c1"># number each line of a file (simple left alignment). Using a tab (see</span>
 <span class="c1"># note on &#39;\t&#39; at end of file) instead of space will preserve margins.</span>
 <span class="nv">sed</span> <span class="o">=</span> filename <span class="p">|</span> sed <span class="s1">&#39;N;s/\n/\t/&#39;</span>

 <span class="c1"># number each line of a file (number on left, right-aligned)</span>
 <span class="nv">sed</span> <span class="o">=</span> filename <span class="p">|</span> sed <span class="s1">&#39;N; s/^/     /; s/ *\(.\{6,\}\)\n/\1  /&#39;</span>

 <span class="c1"># number each line of file, but only print numbers if line is not blank</span>
 sed <span class="s1">&#39;/./=&#39;</span> filename <span class="p">|</span> sed <span class="s1">&#39;/./N; s/\n/ /&#39;</span>

 <span class="c1"># count lines (emulates &quot;wc -l&quot;)</span>
 sed -n <span class="s1">&#39;$=&#39;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="text-conversion-and-substitution">
<h2><a class="toc-backref" href="#id5">4.4.4. TEXT CONVERSION AND SUBSTITUTION:</a><a class="headerlink" href="#text-conversion-and-substitution" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93</pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="c1"># IN UNIX ENVIRONMENT: convert DOS newlines (CR/LF) to Unix format.</span>
 sed <span class="s1">&#39;s/.$//&#39;</span>               <span class="c1"># assumes that all lines end with CR/LF</span>
 sed <span class="s1">&#39;s/^M$//&#39;</span>              <span class="c1"># in bash/tcsh, press Ctrl-V then Ctrl-M</span>
 sed <span class="s1">&#39;s/\x0D$//&#39;</span>            <span class="c1"># works on ssed, gsed 3.02.80 or higher</span>

 <span class="c1"># IN UNIX ENVIRONMENT: convert Unix newlines (LF) to DOS format.</span>
 sed <span class="s2">&quot;s/</span>$<span class="s2">/`echo -e \\\r`/&quot;</span>            <span class="c1"># command line under ksh</span>
 sed <span class="s1">&#39;s/$&#39;</span><span class="s2">&quot;/`echo \\\r`/&quot;</span>             <span class="c1"># command line under bash</span>
 sed <span class="s2">&quot;s/</span>$<span class="s2">/`echo \\\r`/&quot;</span>               <span class="c1"># command line under zsh</span>
 sed <span class="s1">&#39;s/$/\r/&#39;</span>                        <span class="c1"># gsed 3.02.80 or higher</span>

 <span class="c1"># IN DOS ENVIRONMENT: convert Unix newlines (LF) to DOS format.</span>
 sed <span class="s2">&quot;s/</span>$<span class="s2">//&quot;</span>                          <span class="c1"># method 1</span>
 sed -n p                             <span class="c1"># method 2</span>

 <span class="c1"># IN DOS ENVIRONMENT: convert DOS newlines (CR/LF) to Unix format.</span>
 <span class="c1"># Can only be done with UnxUtils sed, version 4.0.7 or higher. The</span>
 <span class="c1"># UnxUtils version can be identified by the custom &quot;--text&quot; switch</span>
 <span class="c1"># which appears when you use the &quot;--help&quot; switch. Otherwise, changing</span>
 <span class="c1"># DOS newlines to Unix newlines cannot be done with sed in a DOS</span>
 <span class="c1"># environment. Use &quot;tr&quot; instead.</span>
 sed <span class="s2">&quot;s/\r//&quot;</span> infile &gt;outfile         <span class="c1"># UnxUtils sed v4.0.7 or higher</span>
 tr -d <span class="se">\r</span> &lt;infile &gt;outfile            <span class="c1"># GNU tr version 1.22 or higher</span>

 <span class="c1"># delete leading whitespace (spaces, tabs) from front of each line</span>
 <span class="c1"># aligns all text flush left</span>
 sed <span class="s1">&#39;s/^[ \t]*//&#39;</span>                    <span class="c1"># see note on &#39;\t&#39; at end of file</span>

 <span class="c1"># delete trailing whitespace (spaces, tabs) from end of each line</span>
 sed <span class="s1">&#39;s/[ \t]*$//&#39;</span>                    <span class="c1"># see note on &#39;\t&#39; at end of file</span>

 <span class="c1"># delete BOTH leading and trailing whitespace from each line</span>
 sed <span class="s1">&#39;s/^[ \t]*//;s/[ \t]*$//&#39;</span>

 <span class="c1"># insert 5 blank spaces at beginning of each line (make page offset)</span>
 sed <span class="s1">&#39;s/^/     /&#39;</span>

 <span class="c1"># align all text flush right on a 79-column width</span>
 sed -e :a -e <span class="s1">&#39;s/^.\{1,78\}$/ &amp;/;ta&#39;</span>  <span class="c1"># set at 78 plus 1 space</span>

 <span class="c1"># center all text in the middle of 79-column width. In method 1,</span>
 <span class="c1"># spaces at the beginning of the line are significant, and trailing</span>
 <span class="c1"># spaces are appended at the end of the line. In method 2, spaces at</span>
 <span class="c1"># the beginning of the line are discarded in centering the line, and</span>
 <span class="c1"># no trailing spaces appear at the end of lines.</span>
 sed  -e :a -e <span class="s1">&#39;s/^.\{1,77\}$/ &amp; /;ta&#39;</span>                     <span class="c1"># method 1</span>
 sed  -e :a -e <span class="s1">&#39;s/^.\{1,77\}$/ &amp;/;ta&#39;</span> -e <span class="s1">&#39;s/\( *\)\1/\1/&#39;</span>  <span class="c1"># method 2</span>

 <span class="c1"># substitute (find and replace) &quot;foo&quot; with &quot;bar&quot; on each line</span>
 sed <span class="s1">&#39;s/foo/bar/&#39;</span>             <span class="c1"># replaces only 1st instance in a line</span>
 sed <span class="s1">&#39;s/foo/bar/4&#39;</span>            <span class="c1"># replaces only 4th instance in a line</span>
 sed <span class="s1">&#39;s/foo/bar/g&#39;</span>            <span class="c1"># replaces ALL instances in a line</span>
 sed <span class="s1">&#39;s/\(.*\)foo\(.*foo\)/\1bar\2/&#39;</span> <span class="c1"># replace the next-to-last case</span>
 sed <span class="s1">&#39;s/\(.*\)foo/\1bar/&#39;</span>            <span class="c1"># replace only the last case</span>

 <span class="c1"># substitute &quot;foo&quot; with &quot;bar&quot; ONLY for lines which contain &quot;baz&quot;</span>
 sed <span class="s1">&#39;/baz/s/foo/bar/g&#39;</span>

 <span class="c1"># substitute &quot;foo&quot; with &quot;bar&quot; EXCEPT for lines which contain &quot;baz&quot;</span>
 sed <span class="s1">&#39;/baz/!s/foo/bar/g&#39;</span>

 <span class="c1"># change &quot;scarlet&quot; or &quot;ruby&quot; or &quot;puce&quot; to &quot;red&quot;</span>
 sed <span class="s1">&#39;s/scarlet/red/g;s/ruby/red/g;s/puce/red/g&#39;</span>   <span class="c1"># most seds</span>
 gsed <span class="s1">&#39;s/scarlet\|ruby\|puce/red/g&#39;</span>                <span class="c1"># GNU sed only</span>

 <span class="c1"># reverse order of lines (emulates &quot;tac&quot;)</span>
 <span class="c1"># bug/feature in HHsed v1.5 causes blank lines to be deleted</span>
 sed <span class="s1">&#39;1!G;h;$!d&#39;</span>               <span class="c1"># method 1</span>
 sed -n <span class="s1">&#39;1!G;h;$p&#39;</span>             <span class="c1"># method 2</span>

 <span class="c1"># reverse each character on the line (emulates &quot;rev&quot;)</span>
 sed <span class="s1">&#39;/\n/!G;s/\(.\)\(.*\n\)/&amp;\2\1/;//D;s/.//&#39;</span>

 <span class="c1"># join pairs of lines side-by-side (like &quot;paste&quot;)</span>
 sed <span class="s1">&#39;$!N;s/\n/ /&#39;</span>

 <span class="c1"># if a line ends with a backslash, append the next line to it</span>
 sed -e :a -e <span class="s1">&#39;/\\$/N; s/\\\n//; ta&#39;</span>

 <span class="c1"># if a line begins with an equal sign, append it to the previous line</span>
 <span class="c1"># and replace the &quot;=&quot; with a single space</span>
 sed -e :a -e <span class="s1">&#39;$!N;s/\n=/ /;ta&#39;</span> -e <span class="s1">&#39;P;D&#39;</span>

 <span class="c1"># add commas to numeric strings, changing &quot;1234567&quot; to &quot;1,234,567&quot;</span>
 gsed <span class="s1">&#39;:a;s/\B[0-9]\{3\}\&gt;/,&amp;/;ta&#39;</span>                     <span class="c1"># GNU sed</span>
 sed -e :a -e <span class="s1">&#39;s/\(.*[0-9]\)\([0-9]\{3\}\)/\1,\2/;ta&#39;</span>  <span class="c1"># other seds</span>

 <span class="c1"># add commas to numbers with decimal points and minus signs (GNU sed)</span>
 gsed -r <span class="s1">&#39;:a;s/(^|[^0-9.])([0-9]+)([0-9]{3})/\1\2,\3/g;ta&#39;</span>

 <span class="c1"># add a blank line every 5 lines (after lines 5, 10, 15, 20, etc.)</span>
 gsed <span class="s1">&#39;0~5G&#39;</span>                  <span class="c1"># GNU sed only</span>
 sed <span class="s1">&#39;n;n;n;n;G;&#39;</span>             <span class="c1"># other seds</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="selective-printing-of-certain-lines">
<h2><a class="toc-backref" href="#id6">4.4.5. SELECTIVE PRINTING OF CERTAIN LINES:</a><a class="headerlink" href="#selective-printing-of-certain-lines" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87</pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="c1"># print first 10 lines of file (emulates behavior of &quot;head&quot;)</span>
 sed 10q

 <span class="c1"># print first line of file (emulates &quot;head -1&quot;)</span>
 sed q

 <span class="c1"># print the last 10 lines of a file (emulates &quot;tail&quot;)</span>
 sed -e :a -e <span class="s1">&#39;$q;N;11,$D;ba&#39;</span>

 <span class="c1"># print the last 2 lines of a file (emulates &quot;tail -2&quot;)</span>
 sed <span class="s1">&#39;$!N;$!D&#39;</span>

 <span class="c1"># print the last line of a file (emulates &quot;tail -1&quot;)</span>
 sed <span class="s1">&#39;$!d&#39;</span>                    <span class="c1"># method 1</span>
 sed -n <span class="s1">&#39;$p&#39;</span>                  <span class="c1"># method 2</span>

 <span class="c1"># print the next-to-the-last line of a file</span>
 sed -e <span class="s1">&#39;$!{h;d;}&#39;</span> -e x              <span class="c1"># for 1-line files, print blank line</span>
 sed -e <span class="s1">&#39;1{$q;}&#39;</span> -e <span class="s1">&#39;$!{h;d;}&#39;</span> -e x  <span class="c1"># for 1-line files, print the line</span>
 sed -e <span class="s1">&#39;1{$d;}&#39;</span> -e <span class="s1">&#39;$!{h;d;}&#39;</span> -e x  <span class="c1"># for 1-line files, print nothing</span>

 <span class="c1"># print only lines which match regular expression (emulates &quot;grep&quot;)</span>
 sed -n <span class="s1">&#39;/regexp/p&#39;</span>           <span class="c1"># method 1</span>
 sed <span class="s1">&#39;/regexp/!d&#39;</span>             <span class="c1"># method 2</span>

 <span class="c1"># print only lines which do NOT match regexp (emulates &quot;grep -v&quot;)</span>
 sed -n <span class="s1">&#39;/regexp/!p&#39;</span>          <span class="c1"># method 1, corresponds to above</span>
 sed <span class="s1">&#39;/regexp/d&#39;</span>              <span class="c1"># method 2, simpler syntax</span>

 <span class="c1"># print the line immediately before a regexp, but not the line</span>
 <span class="c1"># containing the regexp</span>
 sed -n <span class="s1">&#39;/regexp/{g;1!p;};h&#39;</span>

 <span class="c1"># print the line immediately after a regexp, but not the line</span>
 <span class="c1"># containing the regexp</span>
 sed -n <span class="s1">&#39;/regexp/{n;p;}&#39;</span>

 <span class="c1"># print 1 line of context before and after regexp, with line number</span>
 <span class="c1"># indicating where the regexp occurred (similar to &quot;grep -A1 -B1&quot;)</span>
 sed -n -e <span class="s1">&#39;/regexp/{=;x;1!p;g;$!N;p;D;}&#39;</span> -e h

 <span class="c1"># grep for AAA and BBB and CCC (in any order)</span>
 sed <span class="s1">&#39;/AAA/!d; /BBB/!d; /CCC/!d&#39;</span>

 <span class="c1"># grep for AAA and BBB and CCC (in that order)</span>
 sed <span class="s1">&#39;/AAA.*BBB.*CCC/!d&#39;</span>

 <span class="c1"># grep for AAA or BBB or CCC (emulates &quot;egrep&quot;)</span>
 sed -e <span class="s1">&#39;/AAA/b&#39;</span> -e <span class="s1">&#39;/BBB/b&#39;</span> -e <span class="s1">&#39;/CCC/b&#39;</span> -e d    <span class="c1"># most seds</span>
 gsed <span class="s1">&#39;/AAA\|BBB\|CCC/!d&#39;</span>                        <span class="c1"># GNU sed only</span>

 <span class="c1"># print paragraph if it contains AAA (blank lines separate paragraphs)</span>
 <span class="c1"># HHsed v1.5 must insert a &#39;G;&#39; after &#39;x;&#39; in the next 3 scripts below</span>
 sed -e <span class="s1">&#39;/./{H;$!d;}&#39;</span> -e <span class="s1">&#39;x;/AAA/!d;&#39;</span>

 <span class="c1"># print paragraph if it contains AAA and BBB and CCC (in any order)</span>
 sed -e <span class="s1">&#39;/./{H;$!d;}&#39;</span> -e <span class="s1">&#39;x;/AAA/!d;/BBB/!d;/CCC/!d&#39;</span>

 <span class="c1"># print paragraph if it contains AAA or BBB or CCC</span>
 sed -e <span class="s1">&#39;/./{H;$!d;}&#39;</span> -e <span class="s1">&#39;x;/AAA/b&#39;</span> -e <span class="s1">&#39;/BBB/b&#39;</span> -e <span class="s1">&#39;/CCC/b&#39;</span> -e d
 gsed <span class="s1">&#39;/./{H;$!d;};x;/AAA\|BBB\|CCC/b;d&#39;</span>         <span class="c1"># GNU sed only</span>

 <span class="c1"># print only lines of 65 characters or longer</span>
 sed -n <span class="s1">&#39;/^.\{65\}/p&#39;</span>

 <span class="c1"># print only lines of less than 65 characters</span>
 sed -n <span class="s1">&#39;/^.\{65\}/!p&#39;</span>        <span class="c1"># method 1, corresponds to above</span>
 sed <span class="s1">&#39;/^.\{65\}/d&#39;</span>            <span class="c1"># method 2, simpler syntax</span>

 <span class="c1"># print section of file from regular expression to end of file</span>
 sed -n <span class="s1">&#39;/regexp/,$p&#39;</span>

 <span class="c1"># print section of file based on line numbers (lines 8-12, inclusive)</span>
 sed -n <span class="s1">&#39;8,12p&#39;</span>               <span class="c1"># method 1</span>
 sed <span class="s1">&#39;8,12!d&#39;</span>                 <span class="c1"># method 2</span>

 <span class="c1"># print line number 52</span>
 sed -n <span class="s1">&#39;52p&#39;</span>                 <span class="c1"># method 1</span>
 sed <span class="s1">&#39;52!d&#39;</span>                   <span class="c1"># method 2</span>
 sed <span class="s1">&#39;52q;d&#39;</span>                  <span class="c1"># method 3, efficient on large files</span>

 <span class="c1"># beginning at line 3, print every 7th line</span>
 gsed -n <span class="s1">&#39;3~7p&#39;</span>               <span class="c1"># GNU sed only</span>
 sed -n <span class="s1">&#39;3,${p;n;n;n;n;n;n;}&#39;</span> <span class="c1"># other seds</span>

 <span class="c1"># print section of file between two regular expressions (inclusive)</span>
 sed -n <span class="s1">&#39;/Iowa/,/Montana/p&#39;</span>             <span class="c1"># case sensitive</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="selective-deletion-of-certain-lines">
<h2><a class="toc-backref" href="#id7">4.4.6. SELECTIVE DELETION OF CERTAIN LINES:</a><a class="headerlink" href="#selective-deletion-of-certain-lines" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="c1"># print all of file EXCEPT section between 2 regular expressions</span>
 sed <span class="s1">&#39;/Iowa/,/Montana/d&#39;</span>

 <span class="c1"># delete duplicate, consecutive lines from a file (emulates &quot;uniq&quot;).</span>
 <span class="c1"># First line in a set of duplicate lines is kept, rest are deleted.</span>
 sed <span class="s1">&#39;$!N; /^\(.*\)\n\1$/!P; D&#39;</span>

 <span class="c1"># delete duplicate, nonconsecutive lines from a file. Beware not to</span>
 <span class="c1"># overflow the buffer size of the hold space, or else use GNU sed.</span>
 sed -n <span class="s1">&#39;G; s/\n/&amp;&amp;/; /^\([ -~]*\n\).*\n\1/d; s/\n//; h; P&#39;</span>

 <span class="c1"># delete all lines except duplicate lines (emulates &quot;uniq -d&quot;).</span>
 sed <span class="s1">&#39;$!N; s/^\(.*\)\n\1$/\1/; t; D&#39;</span>

 <span class="c1"># delete the first 10 lines of a file</span>
 sed <span class="s1">&#39;1,10d&#39;</span>

 <span class="c1"># delete the last line of a file</span>
 sed <span class="s1">&#39;$d&#39;</span>

 <span class="c1"># delete the last 2 lines of a file</span>
 sed <span class="s1">&#39;N;$!P;$!D;$d&#39;</span>

 <span class="c1"># delete the last 10 lines of a file</span>
 sed -e :a -e <span class="s1">&#39;$d;N;2,10ba&#39;</span> -e <span class="s1">&#39;P;D&#39;</span>   <span class="c1"># method 1</span>
 sed -n -e :a -e <span class="s1">&#39;1,10!{P;N;D;};N;ba&#39;</span>  <span class="c1"># method 2</span>

 <span class="c1"># delete every 8th line</span>
 gsed <span class="s1">&#39;0~8d&#39;</span>                           <span class="c1"># GNU sed only</span>
 sed <span class="s1">&#39;n;n;n;n;n;n;n;d;&#39;</span>                <span class="c1"># other seds</span>

 <span class="c1"># delete lines matching pattern</span>
 sed <span class="s1">&#39;/pattern/d&#39;</span>

 <span class="c1"># delete ALL blank lines from a file (same as &quot;grep &#39;.&#39; &quot;)</span>
 sed <span class="s1">&#39;/^$/d&#39;</span>                           <span class="c1"># method 1</span>
 sed <span class="s1">&#39;/./!d&#39;</span>                           <span class="c1"># method 2</span>

 <span class="c1"># delete all CONSECUTIVE blank lines from file except the first; also</span>
 <span class="c1"># deletes all blank lines from top and end of file (emulates &quot;cat -s&quot;)</span>
 sed <span class="s1">&#39;/./,/^$/!d&#39;</span>          <span class="c1"># method 1, allows 0 blanks at top, 1 at EOF</span>
 sed <span class="s1">&#39;/^$/N;/\n$/D&#39;</span>        <span class="c1"># method 2, allows 1 blank at top, 0 at EOF</span>

 <span class="c1"># delete all CONSECUTIVE blank lines from file except the first 2:</span>
 sed <span class="s1">&#39;/^$/N;/\n$/N;//D&#39;</span>

 <span class="c1"># delete all leading blank lines at top of file</span>
 sed <span class="s1">&#39;/./,$!d&#39;</span>

 <span class="c1"># delete all trailing blank lines at end of file</span>
 sed -e :a -e <span class="s1">&#39;/^\n*$/{$d;N;ba&#39;</span> -e <span class="s1">&#39;}&#39;</span>  <span class="c1"># works on all seds</span>
 sed -e :a -e <span class="s1">&#39;/^\n*$/N;/\n$/ba&#39;</span>        <span class="c1"># ditto, except for gsed 3.02.*</span>

 <span class="c1"># delete the last line of each paragraph</span>
 sed -n <span class="s1">&#39;/^$/{p;h;};/./{x;/./p;}&#39;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="special-applications">
<h2><a class="toc-backref" href="#id8">4.4.7. SPECIAL APPLICATIONS:</a><a class="headerlink" href="#special-applications" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49</pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="c1"># remove nroff overstrikes (char, backspace) from man pages. The &#39;echo&#39;</span>
 <span class="c1"># command may need an -e switch if you use Unix System V or bash shell.</span>
 sed <span class="s2">&quot;s/.`echo \\\b`//g&quot;</span>    <span class="c1"># double quotes required for Unix environment</span>
 sed <span class="s1">&#39;s/.^H//g&#39;</span>             <span class="c1"># in bash/tcsh, press Ctrl-V and then Ctrl-H</span>
 sed <span class="s1">&#39;s/.\x08//g&#39;</span>           <span class="c1"># hex expression for sed 1.5, GNU sed, ssed</span>

 <span class="c1"># get Usenet/e-mail message header</span>
 sed <span class="s1">&#39;/^$/q&#39;</span>                <span class="c1"># deletes everything after first blank line</span>

 <span class="c1"># get Usenet/e-mail message body</span>
 sed <span class="s1">&#39;1,/^$/d&#39;</span>              <span class="c1"># deletes everything up to first blank line</span>

 <span class="c1"># get Subject header, but remove initial &quot;Subject: &quot; portion</span>
 sed <span class="s1">&#39;/^Subject: */!d; s///;q&#39;</span>

 <span class="c1"># get return address header</span>
 sed <span class="s1">&#39;/^Reply-To:/q; /^From:/h; /./d;g;q&#39;</span>

 <span class="c1"># parse out the address proper. Pulls out the e-mail address by itself</span>
 <span class="c1"># from the 1-line return address header (see preceding script)</span>
 sed <span class="s1">&#39;s/ *(.*)//; s/&gt;.*//; s/.*[:&lt;] *//&#39;</span>

 <span class="c1"># add a leading angle bracket and space to each line (quote a message)</span>
 sed <span class="s1">&#39;s/^/&gt; /&#39;</span>

 <span class="c1"># delete leading angle bracket &amp; space from each line (unquote a message)</span>
 sed <span class="s1">&#39;s/^&gt; //&#39;</span>

 <span class="c1"># remove most HTML tags (accommodates multiple-line tags)</span>
 sed -e :a -e <span class="s1">&#39;s/&lt;[^&gt;]*&gt;//g;/&lt;/N;//ba&#39;</span>

 <span class="c1"># extract multi-part uuencoded binaries, removing extraneous header</span>
 <span class="c1"># info, so that only the uuencoded portion remains. Files passed to</span>
 <span class="c1"># sed must be passed in the proper order. Version 1 can be entered</span>
 <span class="c1"># from the command line; version 2 can be made into an executable</span>
 <span class="c1"># Unix shell script. (Modified from a script by Rahul Dhesi.)</span>
 sed <span class="s1">&#39;/^end/,/^begin/d&#39;</span> file1 file2 ... fileX <span class="p">|</span> uudecode   <span class="c1"># vers. 1</span>
 sed <span class="s1">&#39;/^end/,/^begin/d&#39;</span> <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span> <span class="p">|</span> uudecode                    <span class="c1"># vers. 2</span>

 <span class="c1"># sort paragraphs of file alphabetically. Paragraphs are separated by blank</span>
 <span class="c1"># lines. GNU sed uses \v for vertical tab, or any unique char will do.</span>
 sed <span class="s1">&#39;/./{H;d;};x;s/\n/={NL}=/g&#39;</span> file <span class="p">|</span> sort <span class="p">|</span> sed <span class="s1">&#39;1s/={NL}=//;s/={NL}=/\n/g&#39;</span>
 gsed <span class="s1">&#39;/./{H;d};x;y/\n/\v/&#39;</span> file <span class="p">|</span> sort <span class="p">|</span> sed <span class="s1">&#39;1s/\v//;y/\v/\n/&#39;</span>

 <span class="c1"># zip up each .TXT file individually, deleting the source file and</span>
 <span class="c1"># setting the name of each .ZIP file to the basename of the .TXT file</span>
 <span class="c1"># (under DOS: the &quot;dir /b&quot; switch returns bare filenames in all caps).</span>
 <span class="nb">echo</span> @echo off &gt;zipup.bat
 dir /b *.txt <span class="p">|</span> sed <span class="s2">&quot;s/^\(.*\)\.TXT/pkzip -mo \1 \1.TXT/&quot;</span> &gt;&gt;zipup.bat
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="misc">
<h2><a class="toc-backref" href="#id9">4.4.8. Misc</a><a class="headerlink" href="#misc" title="Permalink to this headline">¶</a></h2>
<div class="highlight-none"><div class="highlight"><pre><span></span>TYPICAL USE: Sed takes one or more editing commands and applies all of
them, in sequence, to each line of input. After all the commands have
been applied to the first input line, that line is output and a second
input line is taken for processing, and the cycle repeats. The
preceding examples assume that input comes from the standard input
device (i.e, the console, normally this will be piped input). One or
more filenames can be appended to the command line if the input does
not come from stdin. Output is sent to stdout (the screen). Thus:

 cat filename | sed &#39;10q&#39;        # uses piped input
 sed &#39;10q&#39; filename              # same effect, avoids a useless &quot;cat&quot;
 sed &#39;10q&#39; filename &gt; newfile    # redirects output to disk

For additional syntax instructions, including the way to apply editing
commands from a disk file instead of the command line, consult &quot;sed &amp;
awk, 2nd Edition,&quot; by Dale Dougherty and Arnold Robbins (O&#39;Reilly,
1997; http://www.ora.com), &quot;UNIX Text Processing,&quot; by Dale Dougherty
and Tim O&#39;Reilly (Hayden Books, 1987) or the tutorials by Mike Arst
distributed in U-SEDIT2.ZIP (many sites). To fully exploit the power
of sed, one must understand &quot;regular expressions.&quot; For this, see
&quot;Mastering Regular Expressions&quot; by Jeffrey Friedl (O&#39;Reilly, 1997).
The manual (&quot;man&quot;) pages on Unix systems may be helpful (try &quot;man
sed&quot;, &quot;man regexp&quot;, or the subsection on regular expressions in &quot;man
ed&quot;), but man pages are notoriously difficult. They are not written to
teach sed use or regexps to first-time users, but as a reference text
for those already acquainted with these tools.

QUOTING SYNTAX: The preceding examples use single quotes (&#39;...&#39;)
instead of double quotes (&quot;...&quot;) to enclose editing commands, since
sed is typically used on a Unix platform. Single quotes prevent the
Unix shell from intrepreting the dollar sign ($) and backquotes
(`...`), which are expanded by the shell if they are enclosed in
double quotes. Users of the &quot;csh&quot; shell and derivatives will also need
to quote the exclamation mark (!) with the backslash (i.e., \!) to
properly run the examples listed above, even within single quotes.
Versions of sed written for DOS invariably require double quotes
(&quot;...&quot;) instead of single quotes to enclose editing commands.

USE OF &#39;\t&#39; IN SED SCRIPTS: For clarity in documentation, we have used
the expression &#39;\t&#39; to indicate a tab character (0x09) in the scripts.
However, most versions of sed do not recognize the &#39;\t&#39; abbreviation,
so when typing these scripts from the command line, you should press
the TAB key instead. &#39;\t&#39; is supported as a regular expression
metacharacter in awk, perl, and HHsed, sedmod, and GNU sed v3.02.80.

VERSIONS OF SED: Versions of sed do differ, and some slight syntax
variation is to be expected. In particular, most do not support the
use of labels (:name) or branch instructions (b,t) within editing
commands, except at the end of those commands. We have used the syntax
which will be portable to most users of sed, even though the popular
GNU versions of sed allow a more succinct syntax. When the reader sees
a fairly long command such as this:

   sed -e &#39;/AAA/b&#39; -e &#39;/BBB/b&#39; -e &#39;/CCC/b&#39; -e d

it is heartening to know that GNU sed will let you reduce it to:

   sed &#39;/AAA/b;/BBB/b;/CCC/b;d&#39;      # or even
   sed &#39;/AAA\|BBB\|CCC/b;d&#39;

In addition, remember that while many versions of sed accept a command
like &quot;/one/ s/RE1/RE2/&quot;, some do NOT allow &quot;/one/! s/RE1/RE2/&quot;, which
contains space before the &#39;s&#39;. Omit the space when typing the command.

OPTIMIZING FOR SPEED: If execution speed needs to be increased (due to
large input files or slow processors or hard disks), substitution will
be executed more quickly if the &quot;find&quot; expression is specified before
giving the &quot;s/.../.../&quot; instruction. Thus:

   sed &#39;s/foo/bar/g&#39; filename         # standard replace command
   sed &#39;/foo/ s/foo/bar/g&#39; filename   # executes more quickly
   sed &#39;/foo/ s//bar/g&#39; filename      # shorthand sed syntax

On line selection or deletion in which you only need to output lines
from the first part of the file, a &quot;quit&quot; command (q) in the script
will drastically reduce processing time for large files. Thus:

   sed -n &#39;45,50p&#39; filename           # print line nos. 45-50 of a file
   sed -n &#39;51q;45,50p&#39; filename       # same, but executes much faster

If you have any additional scripts to contribute or if you find errors
in this document, please send e-mail to the compiler. Indicate the
version of sed you used, the operating system it was compiled for, and
the nature of the problem. To qualify as a one-liner, the command line
must be 65 characters or less. Various scripts in this file have been
written or contributed by:

 Al Aab                   # founder of &quot;seders&quot; list
 Edgar Allen              # various
 Yiorgos Adamopoulos      # various
 Dale Dougherty           # author of &quot;sed &amp; awk&quot;
 Carlos Duarte            # author of &quot;do it with sed&quot;
 Eric Pement              # author of this document
 Ken Pizzini              # author of GNU sed v3.02
 S.G. Ravenhall           # great de-html script
 Greg Ubben               # many contributions &amp; much help
-------------------------------------------------------------------------
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sed-tutorial/index.html" class="btn btn-neutral float-right" title="4.5. Sed tutorials" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="cs-sed.html" class="btn btn-neutral" title="4.3. sed" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Takanori Watanabe.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>